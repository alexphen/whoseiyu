{"ast":null,"code":"import{useEffect,useState,useRef}from\"react\";import{useParams,Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const _=require('lodash');const actorName=0,actorImg=1,charID=2,charName=3,favorites=4,charImg=5,actorID=6,showID=7,title=8,aFavs=9;export default function Actor(_ref){let{user,myList}=_ref;const{id,name}=useParams();const[actor,setActor]=useState([id||0,name||\"\",\"\",0]);const[roles,setRoles]=useState([]);const[names,setNames]=useState([]);const[ids,setIds]=useState([]);const[keyword,setKeyword]=useState('');const prevList=useRef(myList);const prevID=useRef(id);const navigate=useNavigate();var filterFlag=user.length>0;// console.log(actor)\nuseEffect(()=>{if(id>0){getData();console.log(\"[]\");}},[]);useEffect(()=>{if(!_.isEqual(prevID.current,id)){setKeyword(\"\");getSearchData(\"\");if(id>0){console.log(\"id\");getData();}prevID.current=id;}},[id]);useEffect(()=>{if(!_.isEqual(prevList.current,myList)){if(id>0){setKeyword(\"\");getSearchData(\"\");console.log(\"list\");getData();}prevList.current=user;}},[myList]);useEffect(()=>{// if (roles.length < 1) {\n//     navigate(\"/Actor\")\n// }\n},[roles]);const getData=async()=>{const actorData=await fetch('/api/actorFull',{method:'POST',headers:{'content-type':'application/json','Accept':'application/json'},body:JSON.stringify({ActorID:id,myList:myList,flag:filterFlag})}).then(res=>res.json());for(let i in actorData){actorData[i]=Object.values(actorData[i]);}if(actorData.length==0){setActor(0,\"\",\"\",0);navigate(\"/Actor\");}else{// console.log(actorData[0][actorID], actorData[0][actorName], actorData[0][actorImg])\nsetActor([actorData[0][actorID],actorData[0][actorName],actorData[0][actorImg],actorData[0][aFavs]]);setRoles(actorData);}};const getSearchData=async keyword=>{setKeyword(keyword);setNames([]);// if(keyword === \"\") {\n//     setNames([])\n// }\n// else {\nvar idRes=[];var nRes=[];const searchData=await fetch('/api/searchActor',{method:'POST',headers:{'content-type':'application/json','Accept':'application/json'},body:JSON.stringify({name:keyword,myList:myList,flag:filterFlag})}).then(res=>res.json());// console.log(\"SD\", searchData)\n// console.log(\"RD\", returnedData)\nfor(let i in searchData){searchData[i]=Object.values(searchData[i]);if(searchData[i][0]>0){nRes.push(searchData[i][1]);idRes.push(searchData[i][0]);}}setNames(nRes);setIds(idRes);// console.log(nRes)\n// console.log(idRes)\n// }\n};return/*#__PURE__*/_jsx(\"div\",{className:\"actorPage\",children:actor[0]>0?/*#__PURE__*/_jsxs(_Fragment,{children:[combineRoles(),bubbleSort(),/*#__PURE__*/_jsxs(\"div\",{id:\"actorTopPane\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"actorTitle\",children:actor[1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actorSearchSide\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"actorSearch\",className:\"search\",type:\"search\",placeholder:\"Search Actor\",autoComplete:\"off\",onChange:e=>getSearchData(e.target.value),value:keyword}),/*#__PURE__*/_jsx(\"div\",{className:\"results\",children:names.slice(0,10).map((name,index)=>/*#__PURE__*/_jsx(Link,{to:\"/Actor/\".concat(ids[index],\"/\"),className:\"resBox\",children:name},name))})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"actorMain\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"actorRoles\",children:roles.map((role,n)=>/*#__PURE__*/_jsxs(\"div\",{className:\"actorRole\",children:[/*#__PURE__*/_jsx(\"img\",{src:role[charImg]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:role[charName]}),/*#__PURE__*/_jsx(\"p\",{children:\"(\"+role[favorites]+\" Favorites)\"}),/*#__PURE__*/_jsx(Link,{to:\"/Anime/\".concat(role[showID][0],\"/\").concat(role[title][0]),className:\"actorInfoTitle\",children:role[title][0]})]})]},n))}),/*#__PURE__*/_jsx(\"div\",{id:\"actorRightPane\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"actorInfo\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"actorName\",children:actor[1]}),/*#__PURE__*/_jsx(\"img\",{className:\"actorImg\",src:actor[2]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Favorites: \",actor[3]]})]})})]}),/*#__PURE__*/_jsx(\"img\",{id:\"toTop\",src:require(\"../assets/toTop.png\"),onClick:toTop})]}):/*#__PURE__*/_jsxs(\"div\",{id:\"actorTopPane\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"begin\",children:\"Search for an Actor to Begin!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"actorSearchSide\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"actorSearch\",className:\"search\",type:\"search\",placeholder:\"Search Actor\",autoComplete:\"off\",onChange:e=>getSearchData(e.target.value),value:keyword}),/*#__PURE__*/_jsx(\"div\",{className:\"results\",children:names.slice(0,10).map((name,index)=>/*#__PURE__*/_jsx(Link,{to:\"/Actor/\".concat(ids[index],\"/\"),className:\"resBox\",children:name},name))})]})]})});function combineRoles(){// console.log(roles, roles.length)\nvar currRoleShowIDs=[];var currRoleTitles=[];for(let i=0;i<roles.length;i++){// console.log(roles[i][title])\nif(typeof roles[i][title]=='string'){currRoleShowIDs=[roles[i][showID]];currRoleTitles=[roles[i][title]];// var currRoleShowIDs = [roles[i].ShowID];\n// var currRoleTitles = [roles[i].Title];\n}else{currRoleShowIDs=roles[i][showID];currRoleTitles=roles[i][title];}for(let p=i+1;p<roles.length;p++){if(roles[i][charID]===roles[p][charID]){// console.log(currRoleShowIDs)\ncurrRoleShowIDs.push(roles[p][showID]);currRoleTitles.push(roles[p][title]);// console.log(currRoleTitles)\nroles.splice(p,1);p--;}else{i=p-1;break;}}roles[i][showID]=currRoleShowIDs;roles[i][title]=currRoleTitles;}// console.log(roles)\n}function bubbleSort(){// roleOrder = [];\n// for (var i in roles) {\n//     roleOrder.push(i)\n// }\nvar i,j,temp;var n=roles.length;var swapped;for(i=0;i<n-1;i++){swapped=false;for(j=0;j<n-i-1;j++){if(roles[j][favorites]<roles[j+1][favorites]){// Swap arr[j] and arr[j+1]\ntemp=roles[j];roles[j]=roles[j+1];roles[j+1]=temp;swapped=true;}}// IF no two elements were \n// swapped by inner loop, then break\nif(swapped===false)break;}}function toTop(){window.scroll({top:0,left:0,behavior:\"smooth\"});}}","map":{"version":3,"names":["useEffect","useState","useRef","useParams","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","_","require","actorName","actorImg","charID","charName","favorites","charImg","actorID","showID","title","aFavs","Actor","_ref","user","myList","id","name","actor","setActor","roles","setRoles","names","setNames","ids","setIds","keyword","setKeyword","prevList","prevID","navigate","filterFlag","length","getData","console","log","isEqual","current","getSearchData","actorData","fetch","method","headers","body","JSON","stringify","ActorID","flag","then","res","json","i","Object","values","idRes","nRes","searchData","push","className","children","combineRoles","bubbleSort","type","placeholder","autoComplete","onChange","e","target","value","slice","map","index","to","concat","role","n","src","onClick","toTop","currRoleShowIDs","currRoleTitles","p","splice","j","temp","swapped","window","scroll","top","left","behavior"],"sources":["C:/Users/aphen/OneDrive/Documents/whoseiyu/src/pages/Actor.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\r\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\r\nconst _ = require('lodash')\r\n\r\nconst   actorName   = 0,\r\n        actorImg    = 1,\r\n        charID      = 2,\r\n        charName    = 3,\r\n        favorites   = 4,\r\n        charImg     = 5,\r\n        actorID     = 6,\r\n        showID      = 7,\r\n        title       = 8,\r\n        aFavs       = 9;\r\n\r\nexport default function Actor({user, myList}) {\r\n    \r\n    const {id, name} = useParams();\r\n    const [actor, setActor] = useState([id || 0, name || \"\", \"\", 0]);\r\n    const [roles, setRoles] = useState([]);\r\n    const [names, setNames] = useState([]);\r\n    const [ids, setIds]     = useState([]);\r\n    const [keyword, setKeyword] = useState('');\r\n    const prevList = useRef(myList);\r\n    const prevID = useRef(id);\r\n    const navigate = useNavigate();\r\n    \r\n    var filterFlag = user.length > 0;\r\n    // console.log(actor)\r\n\r\n\r\n    useEffect(() => {\r\n        if (id > 0) {\r\n            getData();\r\n            console.log(\"[]\")\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!_.isEqual(prevID.current, id)) {\r\n            setKeyword(\"\")\r\n            getSearchData(\"\")\r\n            if (id > 0) {\r\n                console.log(\"id\")\r\n                getData();\r\n            }\r\n            prevID.current = id;\r\n        }\r\n    }, [id])\r\n\r\n    useEffect(() => {\r\n        if (!_.isEqual(prevList.current, myList)) {\r\n            if (id > 0) {\r\n                setKeyword(\"\")\r\n                getSearchData(\"\")\r\n                console.log(\"list\")\r\n                getData();\r\n            }\r\n            prevList.current = user;\r\n        }\r\n    }, [myList])\r\n\r\n    useEffect(() => {\r\n        // if (roles.length < 1) {\r\n        //     navigate(\"/Actor\")\r\n        // }\r\n    }, [roles]);\r\n\r\n    const getData = async() => {\r\n        const actorData = await fetch ('/api/actorFull', {\r\n          method: 'POST',\r\n          headers: {\r\n            'content-type': 'application/json',\r\n            'Accept': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            ActorID: id,\r\n            myList: myList,\r\n            flag: filterFlag\r\n          })\r\n        })\r\n        .then(res => res.json());\r\n        for (let i in actorData) {\r\n            actorData[i] = Object.values(actorData[i])\r\n        }\r\n        if (actorData.length==0) {\r\n            setActor(0, \"\", \"\", 0)\r\n            navigate(\"/Actor\")\r\n        }\r\n        else {\r\n            // console.log(actorData[0][actorID], actorData[0][actorName], actorData[0][actorImg])\r\n            setActor([actorData[0][actorID], actorData[0][actorName], actorData[0][actorImg], actorData[0][aFavs]]);\r\n            setRoles(actorData)\r\n        }\r\n    }\r\n\r\n    const getSearchData = async(keyword) => {\r\n        setKeyword(keyword);\r\n        setNames([])\r\n        // if(keyword === \"\") {\r\n        //     setNames([])\r\n        // }\r\n        // else {\r\n            var idRes = [];\r\n            var nRes = [];\r\n\r\n            const searchData = await fetch ('/api/searchActor', {\r\n                method: 'POST',\r\n                headers: {\r\n                  'content-type': 'application/json',\r\n                  'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                  name: keyword,\r\n                  myList: myList,\r\n                  flag: filterFlag\r\n                })\r\n            })\r\n            .then(res => res.json());\r\n            // console.log(\"SD\", searchData)\r\n\r\n            // console.log(\"RD\", returnedData)\r\n            for (let i in searchData) {\r\n                searchData[i] = Object.values(searchData[i]);\r\n                if (searchData[i][0] > 0) {\r\n                    nRes.push(searchData[i][1]);\r\n                    idRes.push(searchData[i][0]);\r\n                }\r\n            }\r\n            setNames(nRes);\r\n            setIds(idRes);\r\n            // console.log(nRes)\r\n            // console.log(idRes)\r\n        // }\r\n    }\r\n\r\n    return (\r\n        <div className=\"actorPage\">\r\n            {/* actor is set */}\r\n            {actor[0] > 0\r\n                ? <> \r\n                {combineRoles()}\r\n                {bubbleSort()} \r\n                <div id=\"actorTopPane\">\r\n                    <h2 id=\"actorTitle\">{actor[1]}</h2>\r\n                    <div className=\"actorSearchSide\">\r\n                        <input\r\n                            id=\"actorSearch\"\r\n                            className=\"search\"\r\n                            type=\"search\"\r\n                            placeholder=\"Search Actor\"\r\n                            autoComplete=\"off\"\r\n                            onChange={(e) => getSearchData(e.target.value)}\r\n                            value={keyword} />\r\n                        <div className=\"results\">\r\n                            {/* Display 10 filtered results. Change Show on click */}\r\n                            {names.slice(0,10).map((name, index) => (\r\n                                <Link key={name} to={`/Actor/${ids[index]}/`} className=\"resBox\">{name}</Link>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"actorMain\">\r\n                    <div className=\"actorRoles\">\r\n                        {roles.map((role, n) => \r\n                            <div key={n} className=\"actorRole\">\r\n                                <img src={role[charImg]}></img>\r\n                                    <div className=\"info\">\r\n                                        <h3>{role[charName]}</h3>\r\n                                        <p>{\"(\" + role[favorites] + \" Favorites)\"}</p>\r\n                                        <Link to={`/Anime/${role[showID][0]}/${role[title][0]}`} className=\"actorInfoTitle\">{role[title][0]}</Link>\r\n                                        {/* IF MAPPING ALL ROLES â†“ */}\r\n                                        {/* {role[title].map((title, n) =>\r\n                                            <Link to={`/Anime/${role[showID][n]}/${title}`} key={n} className=\"actorInfoTitle\">{title}</Link>\r\n                                        )} */}\r\n                                    </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div id=\"actorRightPane\">\r\n                        <div className=\"actorInfo\">\r\n                            <h1 className=\"actorName\">{actor[1]}</h1>\r\n                            <img className=\"actorImg\" src={actor[2]}></img>\r\n                            <p>Favorites: {actor[3]}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <img id=\"toTop\" src={require(\"../assets/toTop.png\")} onClick={toTop}></img>\r\n                </>\r\n                : <div id=\"actorTopPane\">\r\n                        <h2 id=\"begin\">Search for an Actor to Begin!</h2>\r\n                        <div className=\"actorSearchSide\">\r\n                        <input\r\n                            id=\"actorSearch\"\r\n                            className=\"search\"\r\n                            type=\"search\"\r\n                            placeholder=\"Search Actor\"\r\n                            autoComplete=\"off\"\r\n                            onChange={(e) => getSearchData(e.target.value)}\r\n                            value={keyword} />\r\n                        <div className=\"results\">\r\n                            {/* Display 10 filtered results. Change Show on click */}\r\n                            {names.slice(0,10).map((name, index) => (\r\n                                <Link to={`/Actor/${ids[index]}/`} className=\"resBox\" key={name}>{name}</Link>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n    function combineRoles() {\r\n        // console.log(roles, roles.length)\r\n        var currRoleShowIDs = [];\r\n        var currRoleTitles = [];\r\n        for (let i = 0; i < roles.length; i++) {\r\n            // console.log(roles[i][title])\r\n            if (typeof roles[i][title] == 'string') {\r\n                currRoleShowIDs = [roles[i][showID]];\r\n                currRoleTitles = [roles[i][title]];\r\n                // var currRoleShowIDs = [roles[i].ShowID];\r\n                // var currRoleTitles = [roles[i].Title];\r\n            }\r\n            else {\r\n                currRoleShowIDs = roles[i][showID];\r\n                currRoleTitles = roles[i][title];\r\n            }\r\n            for (let p = i + 1; p < roles.length; p++) {\r\n                if(roles[i][charID] === roles[p][charID]) {\r\n                    // console.log(currRoleShowIDs)\r\n                    currRoleShowIDs.push(roles[p][showID]);\r\n                    currRoleTitles.push(roles[p][title]);\r\n                    // console.log(currRoleTitles)\r\n                    roles.splice(p, 1);\r\n                    p--;\r\n                }\r\n                else {\r\n                    i = p - 1;\r\n                    break\r\n                }\r\n            }\r\n            roles[i][showID] = currRoleShowIDs;\r\n            roles[i][title] = currRoleTitles;\r\n        }\r\n        // console.log(roles)\r\n    }\r\n\r\n    function bubbleSort()\r\n    {\r\n        // roleOrder = [];\r\n        // for (var i in roles) {\r\n        //     roleOrder.push(i)\r\n        // }\r\n        var i, j, temp;\r\n        var n = roles.length;\r\n        var swapped;\r\n        for (i = 0; i < n - 1; i++) \r\n        {\r\n            swapped = false;\r\n            for (j = 0; j < n - i - 1; j++) \r\n            {\r\n                if (roles[j][favorites] < roles[j + 1][favorites]) \r\n                {\r\n                    // Swap arr[j] and arr[j+1]\r\n                    temp = roles[j];\r\n                    roles[j] = roles[j + 1];\r\n                    roles[j + 1] = temp;\r\n                    swapped = true;\r\n                }\r\n            }\r\n            // IF no two elements were \r\n            // swapped by inner loop, then break\r\n            if (swapped === false)\r\n            break;\r\n        }\r\n    }\r\n\r\n    function toTop() {\r\n        window.scroll({top: 0, left: 0, behavior: \"smooth\"})\r\n    }\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}