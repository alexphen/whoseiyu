{"ast":null,"code":"import{useEffect,useState,useRef}from\"react\";import HomeChar from\"../components/HomeChar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const _=require('lodash');const CharID=0;const CharName=1;const Favorites=2;const ImageURL=3;// const ActorID = 4;\nconst ShowID=5;const Title=7;const rank=8;const SPEED=10;var intID;var timeID;var started=false;const HomeRoles=_ref=>{let{actorID,actorName,actorImg,showID,flag,user,myList,cache}=_ref;// console.log(\"actorID received \", actorID)\nconst[roleReturn,setRoleReturn]=useState([]);const[direction,setDirection]=useState(1);const[scrolling,setScrolling]=useState(false);// const [scroller, setScroller] = useState();\nconst prevActor=useRef(actorID);const prevUser=useRef(user);// console.log(\"direction\", direction)\n// console.log(actorID)\n// console.log(user, \"in Toggle\")\nvar filterFlag=user.length>0;const rolesContainer=document.getElementById(\"rolesContainer\");const rolesGallery=document.getElementsByClassName(\"homeRoleGallery\");// console.log(rolesContainer)\n// console.log(rolesGallery)\nuseEffect(()=>{getRoles(actorID);},[]);useEffect(()=>{// console.log(1, prevUser, 2, user)\nif(!_.isEqual(prevUser.current,user)){// debugger\ncache={};// getRoles(actorID);\n}prevUser.current=user;// if (!_.isEqual(prevUser, user)) {\n//     console.log(\"changed\")\n//     getRoles(actorID)\n//     cache = {};\n// }\n},[user]);useEffect(()=>{let tempDir=direction;started=true;timeID=setTimeout(()=>{// console.log(\"rolescontainer\")\nresumeScroll(tempDir);// console.log(started)\n},1500);},[rolesContainer]);useEffect(()=>{if(!_.isEqual(prevActor.current,actorID)){// console.log(\"roles [actorID]\")\nif(started){stopScroll();}setDirection(1);getRoles(actorID);if(rolesContainer){rolesContainer.scrollTo({top:0,left:0,behavior:\"instant\"});timeID=setTimeout(()=>{resumeScroll(1);},1500);}}prevActor.current=actorID;},[actorID]);// useEffect(() => {\n//     getRoles(actorID);\n// }, []);\nconst getRoles=async actID=>{// console.log(\"rioling\")\nif(cache&&cache[actID]){setRoleReturn(cache[actID]);}else{cache[actorID]=[];const roleData=await fetch('/api/roles',{method:'POST',headers:{'content-type':'application/json','Accept':'application/json'},body:JSON.stringify({ActorID:actID,myList:myList,flag:filterFlag})}).then(res=>res.json());// console.log(roleData)\nfor(let i in roleData){roleData[i]=Object.values(roleData[i]);}setRoleReturn(Object.values(roleData));// console.log(Object.values(roleData))\ncache[actorID]=Object.values(roleData);}};const arr=[];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"homeRoleGallery\"// onMouseOver={stopScroll}\n// onMouseOut={resumeScroll}\n,children:[handleRoles(),/*#__PURE__*/_jsx(\"img\",{className:\"homeScrollArrow\",src:require(\"../assets/left.png\"),onClick:jumpBack// onMouseEnter={() => resumeScroll(-1)}\n,onMouseEnter:scrollBack}),/*#__PURE__*/_jsx(\"div\",{id:\"rolesContainer\",className:\"homeRoleCarousel\",onMouseOver:stopScroll,onTouchStart:stopScroll// onMouseOut={resumeScroll}\n,children:roleReturn.map((role,i)=>/*#__PURE__*/_jsx(HomeChar,{charName:role[CharName],charImg:role[ImageURL],topTitleID:role[ShowID][0],topTitle:role[Title][0]},i))}),/*#__PURE__*/_jsx(\"img\",{className:\"homeScrollArrow\",src:require(\"../assets/right.png\"),onClick:jumpForward// onMouseEnter={() => resumeScroll(1)}>\n,onMouseEnter:scrollForward})]}),/*#__PURE__*/_jsx(\"img\",{src:scrolling?require('../assets/pause.png'):require('../assets/play.png'),id:\"homePlayButton\",onClick:pausePlay})]});function scrollBack(){stopScroll();setScrolling(true);setDirection(-1);intID=window.self.setInterval(()=>{if(rolesContainer){if(rolesContainer.scrollLeft>0){rolesContainer.scrollBy({top:0,left:-SPEED,behavior:\"smooth\"});}else{setScrolling(false);}}},100);}function scrollForward(){stopScroll();setScrolling(true);setDirection(1);intID=window.self.setInterval(()=>{if(rolesContainer){if(rolesContainer.scrollLeft<rolesContainer.scrollWidth-rolesContainer.clientWidth){rolesContainer.scrollBy({top:0,left:SPEED,behavior:\"smooth\"});}else{setScrolling(false);}}},100);}function pausePlay(){if(scrolling){stopScroll();}else{resumeScroll(direction);}}function jumpBack(){stopScroll();if(rolesContainer){let distance=rolesContainer.clientWidth;let tempDir=-1;setDirection(tempDir);rolesContainer.scrollBy({top:0,left:-distance,behavior:\"smooth\"});}}function jumpForward(){stopScroll();if(rolesContainer){let distance=rolesContainer.clientWidth;let tempDir=1;setDirection(tempDir);rolesContainer.scrollBy({top:0,left:distance,behavior:\"smooth\"});}}function stopScroll(){clearInterval(intID);setScrolling(false);}function resumeScroll(dir){// console.log(started)\nsetScrolling(true);let tempDir=dir;setDirection(dir);clearInterval(intID);intID=window.self.setInterval(()=>{// if (rolesContainer && rolesContainer.scrollWidth > 0) {\nif(rolesContainer&&rolesContainer.scrollWidth>0){// console.log(SPEED, tempDir, rolesContainer.scrollLeft, (rolesContainer.scrollWidth - rolesContainer.clientWidth))\n// move right\nif(tempDir>0&&rolesContainer.scrollLeft<rolesContainer.scrollWidth-rolesContainer.clientWidth){rolesContainer.scrollBy({top:0,left:SPEED,behavior:\"smooth\"});}// move left\nelse if(tempDir<0&&rolesContainer.scrollLeft>0){rolesContainer.scrollBy({top:0,left:-SPEED,behavior:\"smooth\"});}// at an end\nelse{// stopScroll();\ntempDir=-tempDir;setDirection(tempDir);}}},100);// console.log(\"start\")\n// intID = window.self.setInterval(() => {\n//     if (rolesContainer) {\n//         if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\n//             console.log(SPEED, direction)\n//             rolesContainer.scrollBy({\n//                 top: 0,\n//                 left: SPEED*direction,\n//                 behavior: \"smooth\"\n//             })\n//         }\n//     }\n// }, 100);\n}function handleRoles(){combineRoles();bubbleSort(roleReturn,roleReturn.length);findPrimary();}function combineRoles(){var currRoleShowIDs=[];var currRoleTitles=[];var currRoleRanks=[];// console.log(roleReturn)\nfor(let i=0;i<roleReturn.length;i++){// If Title is currently a String, turn it into an array\nif(typeof roleReturn[i][Title]=='string'){currRoleShowIDs=[roleReturn[i][ShowID]];currRoleTitles=[roleReturn[i][Title]];}else{currRoleShowIDs=roleReturn[i][ShowID];currRoleTitles=roleReturn[i][Title];}if(typeof roleReturn[i][rank]=='number'){currRoleRanks=[roleReturn[i][rank]];}else{currRoleRanks=roleReturn[i][rank];}// \nfor(let p=i+1;p<roleReturn.length;p++){if(roleReturn[i][CharID]===roleReturn[p][CharID]){// console.log(currRoleTitles, currRoleRanks)\ncurrRoleShowIDs.push(roleReturn[p][ShowID]);currRoleTitles.push(String(roleReturn[p][Title]));currRoleRanks.push(roleReturn[p][rank]);roleReturn.splice(p,1);p--;}else{i=p-1;break;}}// console.log(currRoleTitles, currRoleRanks)\nvar swapped;for(let k=0;k<currRoleShowIDs.length;k++){swapped=false;for(let m=0;m<currRoleShowIDs.length;m++){if(currRoleRanks[m]>currRoleRanks[m+1]){swap(currRoleRanks,m,m+1);swap(currRoleShowIDs,m,m+1);swap(currRoleTitles,m,m+1);swapped=true;}}// IF no two elements were \n// swapped by inner loop, then break\nif(swapped===false)break;}roleReturn[i][ShowID]=currRoleShowIDs;roleReturn[i][Title]=currRoleTitles;roleReturn[i][rank]=currRoleRanks;}}function swap(arr,i1,i2){var temp=arr[i1];arr[i1]=arr[i2];arr[i2]=temp;}function bubbleSort(roles,n){// roleOrder = [];\n// for (var i in roles) {\n//     roleOrder.push(i)\n// }\nvar i,j;var swapped;for(i=0;i<n-1;i++){swapped=false;for(j=0;j<n-i-1;j++){if(roles[j][Favorites]<roles[j+1][Favorites]){// Swap arr[j] and arr[j+1]\nswap(roles,j,j+1);// temp = roles[j];\n// roles[j] = roles[j + 1];\n// roles[j + 1] = temp;\nswapped=true;}}// IF no two elements were \n// swapped by inner loop, then break\nif(swapped===false)break;}}function findPrimary(){// if multiple roles\nif(roleReturn.length>1){var num=0;// console.log(roleReturn)\nfor(var k in roleReturn){// console.log(roleReturn[k])\n// console.log(roleReturn[k][ShowID])\nif(roleReturn[k][ShowID].includes(parseInt(showID))){var temp=roleReturn[k];roleReturn.splice(k,1);roleReturn.splice(num,0,temp);num++;}}}}//  function countRoles(roleReturn, n) {\n//     let res = 0;\n//     console.log(roleReturn)\n//     for (let i = 0; i < n; i++) {\n//         // skip ahead on duplicates\n//         console.log(i)\n//         while (i < n - 1 && roleReturn[i].CharID === roleReturn[i+1].CharID) {\n//             console.log(roleReturn[i+1])\n//             i++;\n//         }\n//         res++;\n//     }\n//     return res;\n//  }\n};export default HomeRoles;","map":{"version":3,"names":["useEffect","useState","useRef","HomeChar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","_","require","CharID","CharName","Favorites","ImageURL","ShowID","Title","rank","SPEED","intID","timeID","started","HomeRoles","_ref","actorID","actorName","actorImg","showID","flag","user","myList","cache","roleReturn","setRoleReturn","direction","setDirection","scrolling","setScrolling","prevActor","prevUser","filterFlag","length","rolesContainer","document","getElementById","rolesGallery","getElementsByClassName","getRoles","isEqual","current","tempDir","setTimeout","resumeScroll","stopScroll","scrollTo","top","left","behavior","actID","roleData","fetch","method","headers","body","JSON","stringify","ActorID","then","res","json","i","Object","values","arr","children","className","handleRoles","src","onClick","jumpBack","onMouseEnter","scrollBack","id","onMouseOver","onTouchStart","map","role","charName","charImg","topTitleID","topTitle","jumpForward","scrollForward","pausePlay","window","self","setInterval","scrollLeft","scrollBy","scrollWidth","clientWidth","distance","clearInterval","dir","combineRoles","bubbleSort","findPrimary","currRoleShowIDs","currRoleTitles","currRoleRanks","p","push","String","splice","swapped","k","m","swap","i1","i2","temp","roles","n","j","num","includes","parseInt"],"sources":["C:/Users/aphen/OneDrive/Documents/whoseiyu/src/components/HomeRoles.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\r\nimport HomeChar from \"../components/HomeChar\";\r\n\r\n\r\nconst _ = require('lodash')\r\n\r\nconst CharID    = 0;\r\nconst CharName  = 1;\r\nconst Favorites = 2;\r\nconst ImageURL  = 3;\r\n// const ActorID = 4;\r\nconst ShowID    = 5;\r\nconst Title     = 7;\r\nconst rank      = 8;\r\n\r\nconst SPEED = 10;\r\n\r\nvar intID;\r\nvar timeID;\r\nvar started = false;\r\n\r\n\r\nconst HomeRoles = ({actorID, actorName, actorImg, showID, flag, user, myList, cache}) => {\r\n\r\n    // console.log(\"actorID received \", actorID)\r\n    \r\n    const [roleReturn, setRoleReturn] = useState([]);\r\n    const [direction, setDirection] = useState(1);\r\n    const [scrolling, setScrolling] = useState(false);\r\n    // const [scroller, setScroller] = useState();\r\n    const prevActor = useRef(actorID);\r\n    const prevUser = useRef(user);\r\n\r\n\r\n    // console.log(\"direction\", direction)\r\n    // console.log(actorID)\r\n    // console.log(user, \"in Toggle\")\r\n    var filterFlag = user.length > 0;\r\n\r\n    const rolesContainer = document.getElementById(\"rolesContainer\");\r\n    const rolesGallery = document.getElementsByClassName(\"homeRoleGallery\");\r\n    // console.log(rolesContainer)\r\n    // console.log(rolesGallery)\r\n\r\n    useEffect(() => {\r\n        getRoles(actorID);\r\n    }, [])\r\n    \r\n    useEffect(() => {\r\n        // console.log(1, prevUser, 2, user)\r\n        if (!_.isEqual(prevUser.current, user)) {\r\n            // debugger\r\n            cache = {};\r\n            // getRoles(actorID);\r\n        }\r\n        prevUser.current = user\r\n        // if (!_.isEqual(prevUser, user)) {\r\n        //     console.log(\"changed\")\r\n        //     getRoles(actorID)\r\n        //     cache = {};\r\n        // }\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        let tempDir = direction;\r\n        started = true;\r\n        timeID = setTimeout(() => {\r\n            // console.log(\"rolescontainer\")\r\n            resumeScroll(tempDir);\r\n            // console.log(started)\r\n        }, 1500) \r\n    }, [rolesContainer]);\r\n\r\n    useEffect(() => {\r\n        if (!_.isEqual(prevActor.current, actorID)) {\r\n            // console.log(\"roles [actorID]\")\r\n            if (started) {\r\n                stopScroll();\r\n            }\r\n            setDirection(1);\r\n            getRoles(actorID);\r\n\r\n            if (rolesContainer) {\r\n                rolesContainer.scrollTo({\r\n                    top: 0,\r\n                    left: 0,\r\n                    behavior: \"instant\"\r\n                })\r\n                timeID = setTimeout(() => {\r\n                    resumeScroll(1);\r\n                }, 1500);\r\n            }\r\n        }\r\n        prevActor.current = actorID;\r\n    }, [actorID]);\r\n\r\n\r\n    // useEffect(() => {\r\n    //     getRoles(actorID);\r\n    // }, []);\r\n    \r\n    const getRoles = async(actID) => {\r\n        // console.log(\"rioling\")\r\n        if (cache && cache[actID]) {\r\n            setRoleReturn(cache[actID])\r\n        }\r\n        else {\r\n            cache[actorID] = [];\r\n            const roleData = await fetch ('/api/roles', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    ActorID: actID,\r\n                    myList: myList,\r\n                    flag: filterFlag\r\n                })\r\n            }).then(res => res.json())\r\n            // console.log(roleData)\r\n            for (let i in roleData) {\r\n                roleData[i] = Object.values(roleData[i])\r\n            }\r\n            setRoleReturn(Object.values(roleData));\r\n            // console.log(Object.values(roleData))\r\n            cache[actorID] = Object.values(roleData)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const arr = [];\r\n   \r\n    \r\n    return ( \r\n        <>\r\n            <div className=\"homeRoleGallery\" \r\n                // onMouseOver={stopScroll}\r\n                // onMouseOut={resumeScroll}\r\n                >  \r\n                {handleRoles()}\r\n                {/* <- Cycling Roles -> */}\r\n                    <img className=\"homeScrollArrow\" \r\n                        src={require(\"../assets/left.png\")} \r\n                        onClick={jumpBack} \r\n                        // onMouseEnter={() => resumeScroll(-1)}\r\n                        onMouseEnter={scrollBack}\r\n                    ></img>\r\n                    {/*onMouseDown={scrollBack} onMouseUp={stopScroll}>*/}\r\n                    <div\r\n                        id=\"rolesContainer\"\r\n                        className=\"homeRoleCarousel\"\r\n                        onMouseOver={stopScroll}\r\n                        onTouchStart={stopScroll}\r\n                        // onMouseOut={resumeScroll}\r\n                        >\r\n                    {roleReturn.map((role, i) =>\r\n                        <HomeChar key={i} \r\n                            charName={role[CharName]} \r\n                            charImg={role[ImageURL]} \r\n                            topTitleID={role[ShowID][0]} \r\n                            topTitle={role[Title][0]}/>\r\n                    )}\r\n                    </div>\r\n                    <img className=\"homeScrollArrow\" \r\n                        src={require(\"../assets/right.png\")} \r\n                        onClick={jumpForward} \r\n                        // onMouseEnter={() => resumeScroll(1)}>\r\n                        onMouseEnter={scrollForward}\r\n                    ></img> \r\n                    {/*</>onMouseDown={scrollForward} onMouseUp={stopScroll}>*/}\r\n            </div>\r\n            <img src={scrolling ? require('../assets/pause.png') : require('../assets/play.png')} id=\"homePlayButton\" onClick={pausePlay}></img>\r\n        </>\r\n     );\r\n\r\n     function scrollBack() {\r\n        stopScroll();\r\n        setScrolling(true);\r\n        setDirection(-1);\r\n        intID = window.self.setInterval(() => {\r\n            if (rolesContainer) {\r\n                if (rolesContainer.scrollLeft > 0) {\r\n                    rolesContainer.scrollBy({\r\n                        top: 0,\r\n                        left: -SPEED,\r\n                        behavior: \"smooth\"\r\n                    })\r\n                }\r\n                else {\r\n                    setScrolling(false);\r\n                }\r\n            }\r\n        }, 100);\r\n     }\r\n\r\n     function scrollForward() {\r\n        stopScroll();\r\n        setScrolling(true);\r\n        setDirection(1);\r\n        intID = window.self.setInterval(() => {\r\n            if (rolesContainer) {\r\n                if(rolesContainer.scrollLeft < rolesContainer.scrollWidth - rolesContainer.clientWidth) {\r\n                    rolesContainer.scrollBy({\r\n                        top: 0,\r\n                        left: SPEED,\r\n                        behavior: \"smooth\"\r\n                    })\r\n                }\r\n                else {\r\n                    setScrolling(false)\r\n                }\r\n            }\r\n        }, 100);\r\n     }\r\n\r\n    function pausePlay() {\r\n        if (scrolling) {\r\n            stopScroll();\r\n        }\r\n        else {\r\n            resumeScroll(direction);\r\n        }\r\n    }\r\n\r\n    function jumpBack() {\r\n    stopScroll();\r\n    if (rolesContainer) {\r\n        let distance = rolesContainer.clientWidth;\r\n        let tempDir = -1;\r\n        setDirection(tempDir);\r\n        rolesContainer.scrollBy({\r\n            top: 0,\r\n            left: -distance,\r\n            behavior: \"smooth\"\r\n        })\r\n    }\r\n    }\r\n\r\n    function jumpForward() {\r\n    stopScroll();\r\n    if (rolesContainer) {            \r\n        let distance = rolesContainer.clientWidth;\r\n        let tempDir = 1;\r\n        setDirection(tempDir);\r\n        rolesContainer.scrollBy({\r\n            top: 0,\r\n            left: distance,\r\n            behavior: \"smooth\"\r\n        })\r\n    }\r\n    }\r\n\r\n    function stopScroll() {\r\n        clearInterval(intID);\r\n        setScrolling(false);\r\n    }\r\n\r\n    function resumeScroll(dir) {\r\n        // console.log(started)\r\n        setScrolling(true);\r\n        let tempDir = dir;\r\n        setDirection(dir);\r\n        clearInterval(intID);\r\n        intID = window.self.setInterval(() => {\r\n        // if (rolesContainer && rolesContainer.scrollWidth > 0) {\r\n        if (rolesContainer && rolesContainer.scrollWidth > 0) {\r\n            // console.log(SPEED, tempDir, rolesContainer.scrollLeft, (rolesContainer.scrollWidth - rolesContainer.clientWidth))\r\n            // move right\r\n            if (tempDir > 0 && rolesContainer.scrollLeft < (rolesContainer.scrollWidth - rolesContainer.clientWidth)) {\r\n                rolesContainer.scrollBy({\r\n                    top: 0,\r\n                    left: SPEED,\r\n                    behavior: \"smooth\"\r\n                })\r\n            }\r\n            // move left\r\n            else if (tempDir < 0 && rolesContainer.scrollLeft > 0) {\r\n                rolesContainer.scrollBy({\r\n                    top: 0,\r\n                    left: -SPEED,\r\n                    behavior: \"smooth\"\r\n                })\r\n            }\r\n            // at an end\r\n            else {\r\n                // stopScroll();\r\n                tempDir = -tempDir;\r\n                setDirection(tempDir);\r\n            }\r\n        }\r\n    }, 100);\r\n\r\n    // console.log(\"start\")\r\n    // intID = window.self.setInterval(() => {\r\n    //     if (rolesContainer) {\r\n    //         if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\r\n    //             console.log(SPEED, direction)\r\n    //             rolesContainer.scrollBy({\r\n    //                 top: 0,\r\n    //                 left: SPEED*direction,\r\n    //                 behavior: \"smooth\"\r\n    //             })\r\n    //         }\r\n    //     }\r\n    // }, 100);\r\n    }\r\n\r\n    function handleRoles() {\r\n    combineRoles();\r\n    bubbleSort(roleReturn, roleReturn.length);\r\n    findPrimary();\r\n    }\r\n\r\n     function combineRoles() {\r\n        var currRoleShowIDs = [];\r\n        var currRoleTitles = [];\r\n        var currRoleRanks = [];\r\n        // console.log(roleReturn)\r\n        for (let i = 0; i < roleReturn.length; i++) {\r\n            // If Title is currently a String, turn it into an array\r\n            if (typeof roleReturn[i][Title] == 'string') {\r\n                currRoleShowIDs = [roleReturn[i][ShowID]];\r\n                currRoleTitles  = [roleReturn[i][Title]];\r\n            }\r\n            else {\r\n                currRoleShowIDs = roleReturn[i][ShowID];\r\n                currRoleTitles  = roleReturn[i][Title];\r\n            }\r\n            if (typeof roleReturn[i][rank] == 'number') {\r\n                currRoleRanks = [roleReturn[i][rank]];\r\n            } else {\r\n                currRoleRanks = roleReturn[i][rank];                \r\n            }\r\n\r\n            // \r\n            for (let p = i + 1; p < roleReturn.length; p++) {\r\n                if(roleReturn[i][CharID] === roleReturn[p][CharID]) {\r\n                    // console.log(currRoleTitles, currRoleRanks)\r\n                    currRoleShowIDs.push(roleReturn[p][ShowID]);\r\n                    currRoleTitles.push(String(roleReturn[p][Title]));\r\n                    currRoleRanks.push(roleReturn[p][rank]);\r\n                    roleReturn.splice(p, 1);\r\n                    p--;\r\n                }\r\n                else {\r\n                    i = p - 1;\r\n                    break\r\n                }\r\n            }\r\n            // console.log(currRoleTitles, currRoleRanks)\r\n\r\n            var swapped;\r\n            for (let k = 0; k < currRoleShowIDs.length; k++) {\r\n                swapped = false\r\n                for (let m = 0; m < currRoleShowIDs.length; m++) {\r\n                    if (currRoleRanks[m] > currRoleRanks[m+1]) \r\n                    {\r\n                        swap(currRoleRanks, m, m+1)\r\n                        swap(currRoleShowIDs, m, m+1)\r\n                        swap(currRoleTitles, m, m+1)\r\n                        swapped = true;\r\n                    }\r\n                }\r\n                // IF no two elements were \r\n                // swapped by inner loop, then break\r\n                if (swapped === false)\r\n                break;\r\n            }\r\n\r\n            roleReturn[i][ShowID] = currRoleShowIDs;\r\n            roleReturn[i][Title] = currRoleTitles;\r\n            roleReturn[i][rank] = currRoleRanks;\r\n        }\r\n    }\r\n\r\n    function swap(arr, i1, i2) {\r\n        var temp = arr[i1];\r\n        arr[i1] = arr[i2];\r\n        arr[i2] = temp;\r\n    }\r\n\r\n    function bubbleSort(roles, n)\r\n    {\r\n        // roleOrder = [];\r\n        // for (var i in roles) {\r\n        //     roleOrder.push(i)\r\n        // }\r\n        var i, j;\r\n        var swapped;\r\n        for (i = 0; i < n - 1; i++) \r\n        {\r\n            swapped = false;\r\n            for (j = 0; j < n - i - 1; j++) \r\n            {\r\n                if (roles[j][Favorites] < roles[j + 1][Favorites]) \r\n                {\r\n                    // Swap arr[j] and arr[j+1]\r\n                    swap(roles, j, j+1)\r\n                    // temp = roles[j];\r\n                    // roles[j] = roles[j + 1];\r\n                    // roles[j + 1] = temp;\r\n                    swapped = true;\r\n                }\r\n            }\r\n            // IF no two elements were \r\n            // swapped by inner loop, then break\r\n            if (swapped === false)\r\n            break;\r\n        }\r\n    }\r\n\r\n    function findPrimary() {\r\n        // if multiple roles\r\n        if (roleReturn.length > 1) {\r\n            var num = 0;\r\n            // console.log(roleReturn)\r\n            for (var k in roleReturn) {\r\n                // console.log(roleReturn[k])\r\n                // console.log(roleReturn[k][ShowID])\r\n                if (roleReturn[k][ShowID].includes(parseInt(showID))) {\r\n                    \r\n                    var temp = roleReturn[k];\r\n                    roleReturn.splice(k, 1);\r\n                    roleReturn.splice(num, 0, temp);\r\n                    num++;\r\n                }\r\n            }\r\n        }\r\n    }   \r\n\r\n    //  function countRoles(roleReturn, n) {\r\n    //     let res = 0;\r\n    //     console.log(roleReturn)\r\n    //     for (let i = 0; i < n; i++) {\r\n    //         // skip ahead on duplicates\r\n    //         console.log(i)\r\n    //         while (i < n - 1 && roleReturn[i].CharID === roleReturn[i+1].CharID) {\r\n    //             console.log(roleReturn[i+1])\r\n    //             i++;\r\n    //         }\r\n    //         res++;\r\n    //     }\r\n    //     return res;\r\n    //  }\r\n}\r\n \r\nexport default HomeRoles;"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CACnD,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAG9C,KAAM,CAAAC,CAAC,CAAGC,OAAO,CAAC,QAAQ,CAAC,CAE3B,KAAM,CAAAC,MAAM,CAAM,CAAC,CACnB,KAAM,CAAAC,QAAQ,CAAI,CAAC,CACnB,KAAM,CAAAC,SAAS,CAAG,CAAC,CACnB,KAAM,CAAAC,QAAQ,CAAI,CAAC,CACnB;AACA,KAAM,CAAAC,MAAM,CAAM,CAAC,CACnB,KAAM,CAAAC,KAAK,CAAO,CAAC,CACnB,KAAM,CAAAC,IAAI,CAAQ,CAAC,CAEnB,KAAM,CAAAC,KAAK,CAAG,EAAE,CAEhB,GAAI,CAAAC,KAAK,CACT,GAAI,CAAAC,MAAM,CACV,GAAI,CAAAC,OAAO,CAAG,KAAK,CAGnB,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAuE,IAAtE,CAACC,OAAO,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAAEC,MAAM,CAAEC,KAAK,CAAC,CAAAR,IAAA,CAEhF;AAEA,KAAM,CAACS,UAAU,CAAEC,aAAa,CAAC,CAAGjC,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACkC,SAAS,CAAEC,YAAY,CAAC,CAAGnC,QAAQ,CAAC,CAAC,CAAC,CAC7C,KAAM,CAACoC,SAAS,CAAEC,YAAY,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CACjD;AACA,KAAM,CAAAsC,SAAS,CAAGrC,MAAM,CAACuB,OAAO,CAAC,CACjC,KAAM,CAAAe,QAAQ,CAAGtC,MAAM,CAAC4B,IAAI,CAAC,CAG7B;AACA;AACA;AACA,GAAI,CAAAW,UAAU,CAAGX,IAAI,CAACY,MAAM,CAAG,CAAC,CAEhC,KAAM,CAAAC,cAAc,CAAGC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAChE,KAAM,CAAAC,YAAY,CAAGF,QAAQ,CAACG,sBAAsB,CAAC,iBAAiB,CAAC,CACvE;AACA;AAEA/C,SAAS,CAAC,IAAM,CACZgD,QAAQ,CAACvB,OAAO,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAENzB,SAAS,CAAC,IAAM,CACZ;AACA,GAAI,CAACU,CAAC,CAACuC,OAAO,CAACT,QAAQ,CAACU,OAAO,CAAEpB,IAAI,CAAC,CAAE,CACpC;AACAE,KAAK,CAAG,CAAC,CAAC,CACV;AACJ,CACAQ,QAAQ,CAACU,OAAO,CAAGpB,IAAI,CACvB;AACA;AACA;AACA;AACA;AACJ,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAEV9B,SAAS,CAAC,IAAM,CACZ,GAAI,CAAAmD,OAAO,CAAGhB,SAAS,CACvBb,OAAO,CAAG,IAAI,CACdD,MAAM,CAAG+B,UAAU,CAAC,IAAM,CACtB;AACAC,YAAY,CAACF,OAAO,CAAC,CACrB;AACJ,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CAAE,CAACR,cAAc,CAAC,CAAC,CAEpB3C,SAAS,CAAC,IAAM,CACZ,GAAI,CAACU,CAAC,CAACuC,OAAO,CAACV,SAAS,CAACW,OAAO,CAAEzB,OAAO,CAAC,CAAE,CACxC;AACA,GAAIH,OAAO,CAAE,CACTgC,UAAU,CAAC,CAAC,CAChB,CACAlB,YAAY,CAAC,CAAC,CAAC,CACfY,QAAQ,CAACvB,OAAO,CAAC,CAEjB,GAAIkB,cAAc,CAAE,CAChBA,cAAc,CAACY,QAAQ,CAAC,CACpBC,GAAG,CAAE,CAAC,CACNC,IAAI,CAAE,CAAC,CACPC,QAAQ,CAAE,SACd,CAAC,CAAC,CACFrC,MAAM,CAAG+B,UAAU,CAAC,IAAM,CACtBC,YAAY,CAAC,CAAC,CAAC,CACnB,CAAC,CAAE,IAAI,CAAC,CACZ,CACJ,CACAd,SAAS,CAACW,OAAO,CAAGzB,OAAO,CAC/B,CAAC,CAAE,CAACA,OAAO,CAAC,CAAC,CAGb;AACA;AACA;AAEA,KAAM,CAAAuB,QAAQ,CAAG,KAAM,CAAAW,KAAK,EAAK,CAC7B;AACA,GAAI3B,KAAK,EAAIA,KAAK,CAAC2B,KAAK,CAAC,CAAE,CACvBzB,aAAa,CAACF,KAAK,CAAC2B,KAAK,CAAC,CAAC,CAC/B,CAAC,IACI,CACD3B,KAAK,CAACP,OAAO,CAAC,CAAG,EAAE,CACnB,KAAM,CAAAmC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAE,YAAY,CAAE,CACxCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,QAAQ,CAAE,kBACd,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,OAAO,CAAER,KAAK,CACd5B,MAAM,CAAEA,MAAM,CACdF,IAAI,CAAEY,UACV,CAAC,CACL,CAAC,CAAC,CAAC2B,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAC1B;AACA,IAAK,GAAI,CAAAC,CAAC,GAAI,CAAAX,QAAQ,CAAE,CACpBA,QAAQ,CAACW,CAAC,CAAC,CAAGC,MAAM,CAACC,MAAM,CAACb,QAAQ,CAACW,CAAC,CAAC,CAAC,CAC5C,CACArC,aAAa,CAACsC,MAAM,CAACC,MAAM,CAACb,QAAQ,CAAC,CAAC,CACtC;AACA5B,KAAK,CAACP,OAAO,CAAC,CAAG+C,MAAM,CAACC,MAAM,CAACb,QAAQ,CAAC,CAC5C,CACJ,CAAC,CAID,KAAM,CAAAc,GAAG,CAAG,EAAE,CAGd,mBACInE,KAAA,CAAAE,SAAA,EAAAkE,QAAA,eACIpE,KAAA,QAAKqE,SAAS,CAAC,iBACX;AACA;AAAA,CAAAD,QAAA,EAECE,WAAW,CAAC,CAAC,cAEVxE,IAAA,QAAKuE,SAAS,CAAC,iBAAiB,CAC5BE,GAAG,CAAEnE,OAAO,CAAC,oBAAoB,CAAE,CACnCoE,OAAO,CAAEC,QACT;AAAA,CACAC,YAAY,CAAEC,UAAW,CACvB,CAAC,cAEP7E,IAAA,QACI8E,EAAE,CAAC,gBAAgB,CACnBP,SAAS,CAAC,kBAAkB,CAC5BQ,WAAW,CAAE9B,UAAW,CACxB+B,YAAY,CAAE/B,UACd;AAAA,CAAAqB,QAAA,CAEH1C,UAAU,CAACqD,GAAG,CAAC,CAACC,IAAI,CAAEhB,CAAC,gBACpBlE,IAAA,CAACF,QAAQ,EACLqF,QAAQ,CAAED,IAAI,CAAC1E,QAAQ,CAAE,CACzB4E,OAAO,CAAEF,IAAI,CAACxE,QAAQ,CAAE,CACxB2E,UAAU,CAAEH,IAAI,CAACvE,MAAM,CAAC,CAAC,CAAC,CAAE,CAC5B2E,QAAQ,CAAEJ,IAAI,CAACtE,KAAK,CAAC,CAAC,CAAC,CAAE,EAJdsD,CAIe,CAClC,CAAC,CACI,CAAC,cACNlE,IAAA,QAAKuE,SAAS,CAAC,iBAAiB,CAC5BE,GAAG,CAAEnE,OAAO,CAAC,qBAAqB,CAAE,CACpCoE,OAAO,CAAEa,WACT;AAAA,CACAX,YAAY,CAAEY,aAAc,CAC1B,CAAC,EAEV,CAAC,cACNxF,IAAA,QAAKyE,GAAG,CAAEzC,SAAS,CAAG1B,OAAO,CAAC,qBAAqB,CAAC,CAAGA,OAAO,CAAC,oBAAoB,CAAE,CAACwE,EAAE,CAAC,gBAAgB,CAACJ,OAAO,CAAEe,SAAU,CAAM,CAAC,EACtI,CAAC,CAGN,QAAS,CAAAZ,UAAUA,CAAA,CAAG,CACnB5B,UAAU,CAAC,CAAC,CACZhB,YAAY,CAAC,IAAI,CAAC,CAClBF,YAAY,CAAC,CAAC,CAAC,CAAC,CAChBhB,KAAK,CAAG2E,MAAM,CAACC,IAAI,CAACC,WAAW,CAAC,IAAM,CAClC,GAAItD,cAAc,CAAE,CAChB,GAAIA,cAAc,CAACuD,UAAU,CAAG,CAAC,CAAE,CAC/BvD,cAAc,CAACwD,QAAQ,CAAC,CACpB3C,GAAG,CAAE,CAAC,CACNC,IAAI,CAAE,CAACtC,KAAK,CACZuC,QAAQ,CAAE,QACd,CAAC,CAAC,CACN,CAAC,IACI,CACDpB,YAAY,CAAC,KAAK,CAAC,CACvB,CACJ,CACJ,CAAC,CAAE,GAAG,CAAC,CACV,CAEA,QAAS,CAAAuD,aAAaA,CAAA,CAAG,CACtBvC,UAAU,CAAC,CAAC,CACZhB,YAAY,CAAC,IAAI,CAAC,CAClBF,YAAY,CAAC,CAAC,CAAC,CACfhB,KAAK,CAAG2E,MAAM,CAACC,IAAI,CAACC,WAAW,CAAC,IAAM,CAClC,GAAItD,cAAc,CAAE,CAChB,GAAGA,cAAc,CAACuD,UAAU,CAAGvD,cAAc,CAACyD,WAAW,CAAGzD,cAAc,CAAC0D,WAAW,CAAE,CACpF1D,cAAc,CAACwD,QAAQ,CAAC,CACpB3C,GAAG,CAAE,CAAC,CACNC,IAAI,CAAEtC,KAAK,CACXuC,QAAQ,CAAE,QACd,CAAC,CAAC,CACN,CAAC,IACI,CACDpB,YAAY,CAAC,KAAK,CAAC,CACvB,CACJ,CACJ,CAAC,CAAE,GAAG,CAAC,CACV,CAED,QAAS,CAAAwD,SAASA,CAAA,CAAG,CACjB,GAAIzD,SAAS,CAAE,CACXiB,UAAU,CAAC,CAAC,CAChB,CAAC,IACI,CACDD,YAAY,CAAClB,SAAS,CAAC,CAC3B,CACJ,CAEA,QAAS,CAAA6C,QAAQA,CAAA,CAAG,CACpB1B,UAAU,CAAC,CAAC,CACZ,GAAIX,cAAc,CAAE,CAChB,GAAI,CAAA2D,QAAQ,CAAG3D,cAAc,CAAC0D,WAAW,CACzC,GAAI,CAAAlD,OAAO,CAAG,CAAC,CAAC,CAChBf,YAAY,CAACe,OAAO,CAAC,CACrBR,cAAc,CAACwD,QAAQ,CAAC,CACpB3C,GAAG,CAAE,CAAC,CACNC,IAAI,CAAE,CAAC6C,QAAQ,CACf5C,QAAQ,CAAE,QACd,CAAC,CAAC,CACN,CACA,CAEA,QAAS,CAAAkC,WAAWA,CAAA,CAAG,CACvBtC,UAAU,CAAC,CAAC,CACZ,GAAIX,cAAc,CAAE,CAChB,GAAI,CAAA2D,QAAQ,CAAG3D,cAAc,CAAC0D,WAAW,CACzC,GAAI,CAAAlD,OAAO,CAAG,CAAC,CACff,YAAY,CAACe,OAAO,CAAC,CACrBR,cAAc,CAACwD,QAAQ,CAAC,CACpB3C,GAAG,CAAE,CAAC,CACNC,IAAI,CAAE6C,QAAQ,CACd5C,QAAQ,CAAE,QACd,CAAC,CAAC,CACN,CACA,CAEA,QAAS,CAAAJ,UAAUA,CAAA,CAAG,CAClBiD,aAAa,CAACnF,KAAK,CAAC,CACpBkB,YAAY,CAAC,KAAK,CAAC,CACvB,CAEA,QAAS,CAAAe,YAAYA,CAACmD,GAAG,CAAE,CACvB;AACAlE,YAAY,CAAC,IAAI,CAAC,CAClB,GAAI,CAAAa,OAAO,CAAGqD,GAAG,CACjBpE,YAAY,CAACoE,GAAG,CAAC,CACjBD,aAAa,CAACnF,KAAK,CAAC,CACpBA,KAAK,CAAG2E,MAAM,CAACC,IAAI,CAACC,WAAW,CAAC,IAAM,CACtC;AACA,GAAItD,cAAc,EAAIA,cAAc,CAACyD,WAAW,CAAG,CAAC,CAAE,CAClD;AACA;AACA,GAAIjD,OAAO,CAAG,CAAC,EAAIR,cAAc,CAACuD,UAAU,CAAIvD,cAAc,CAACyD,WAAW,CAAGzD,cAAc,CAAC0D,WAAY,CAAE,CACtG1D,cAAc,CAACwD,QAAQ,CAAC,CACpB3C,GAAG,CAAE,CAAC,CACNC,IAAI,CAAEtC,KAAK,CACXuC,QAAQ,CAAE,QACd,CAAC,CAAC,CACN,CACA;AAAA,IACK,IAAIP,OAAO,CAAG,CAAC,EAAIR,cAAc,CAACuD,UAAU,CAAG,CAAC,CAAE,CACnDvD,cAAc,CAACwD,QAAQ,CAAC,CACpB3C,GAAG,CAAE,CAAC,CACNC,IAAI,CAAE,CAACtC,KAAK,CACZuC,QAAQ,CAAE,QACd,CAAC,CAAC,CACN,CACA;AAAA,IACK,CACD;AACAP,OAAO,CAAG,CAACA,OAAO,CAClBf,YAAY,CAACe,OAAO,CAAC,CACzB,CACJ,CACJ,CAAC,CAAE,GAAG,CAAC,CAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAEA,QAAS,CAAA0B,WAAWA,CAAA,CAAG,CACvB4B,YAAY,CAAC,CAAC,CACdC,UAAU,CAACzE,UAAU,CAAEA,UAAU,CAACS,MAAM,CAAC,CACzCiE,WAAW,CAAC,CAAC,CACb,CAEC,QAAS,CAAAF,YAAYA,CAAA,CAAG,CACrB,GAAI,CAAAG,eAAe,CAAG,EAAE,CACxB,GAAI,CAAAC,cAAc,CAAG,EAAE,CACvB,GAAI,CAAAC,aAAa,CAAG,EAAE,CACtB;AACA,IAAK,GAAI,CAAAvC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGtC,UAAU,CAACS,MAAM,CAAE6B,CAAC,EAAE,CAAE,CACxC;AACA,GAAI,MAAO,CAAAtC,UAAU,CAACsC,CAAC,CAAC,CAACtD,KAAK,CAAC,EAAI,QAAQ,CAAE,CACzC2F,eAAe,CAAG,CAAC3E,UAAU,CAACsC,CAAC,CAAC,CAACvD,MAAM,CAAC,CAAC,CACzC6F,cAAc,CAAI,CAAC5E,UAAU,CAACsC,CAAC,CAAC,CAACtD,KAAK,CAAC,CAAC,CAC5C,CAAC,IACI,CACD2F,eAAe,CAAG3E,UAAU,CAACsC,CAAC,CAAC,CAACvD,MAAM,CAAC,CACvC6F,cAAc,CAAI5E,UAAU,CAACsC,CAAC,CAAC,CAACtD,KAAK,CAAC,CAC1C,CACA,GAAI,MAAO,CAAAgB,UAAU,CAACsC,CAAC,CAAC,CAACrD,IAAI,CAAC,EAAI,QAAQ,CAAE,CACxC4F,aAAa,CAAG,CAAC7E,UAAU,CAACsC,CAAC,CAAC,CAACrD,IAAI,CAAC,CAAC,CACzC,CAAC,IAAM,CACH4F,aAAa,CAAG7E,UAAU,CAACsC,CAAC,CAAC,CAACrD,IAAI,CAAC,CACvC,CAEA;AACA,IAAK,GAAI,CAAA6F,CAAC,CAAGxC,CAAC,CAAG,CAAC,CAAEwC,CAAC,CAAG9E,UAAU,CAACS,MAAM,CAAEqE,CAAC,EAAE,CAAE,CAC5C,GAAG9E,UAAU,CAACsC,CAAC,CAAC,CAAC3D,MAAM,CAAC,GAAKqB,UAAU,CAAC8E,CAAC,CAAC,CAACnG,MAAM,CAAC,CAAE,CAChD;AACAgG,eAAe,CAACI,IAAI,CAAC/E,UAAU,CAAC8E,CAAC,CAAC,CAAC/F,MAAM,CAAC,CAAC,CAC3C6F,cAAc,CAACG,IAAI,CAACC,MAAM,CAAChF,UAAU,CAAC8E,CAAC,CAAC,CAAC9F,KAAK,CAAC,CAAC,CAAC,CACjD6F,aAAa,CAACE,IAAI,CAAC/E,UAAU,CAAC8E,CAAC,CAAC,CAAC7F,IAAI,CAAC,CAAC,CACvCe,UAAU,CAACiF,MAAM,CAACH,CAAC,CAAE,CAAC,CAAC,CACvBA,CAAC,EAAE,CACP,CAAC,IACI,CACDxC,CAAC,CAAGwC,CAAC,CAAG,CAAC,CACT,MACJ,CACJ,CACA;AAEA,GAAI,CAAAI,OAAO,CACX,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGR,eAAe,CAAClE,MAAM,CAAE0E,CAAC,EAAE,CAAE,CAC7CD,OAAO,CAAG,KAAK,CACf,IAAK,GAAI,CAAAE,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGT,eAAe,CAAClE,MAAM,CAAE2E,CAAC,EAAE,CAAE,CAC7C,GAAIP,aAAa,CAACO,CAAC,CAAC,CAAGP,aAAa,CAACO,CAAC,CAAC,CAAC,CAAC,CACzC,CACIC,IAAI,CAACR,aAAa,CAAEO,CAAC,CAAEA,CAAC,CAAC,CAAC,CAAC,CAC3BC,IAAI,CAACV,eAAe,CAAES,CAAC,CAAEA,CAAC,CAAC,CAAC,CAAC,CAC7BC,IAAI,CAACT,cAAc,CAAEQ,CAAC,CAAEA,CAAC,CAAC,CAAC,CAAC,CAC5BF,OAAO,CAAG,IAAI,CAClB,CACJ,CACA;AACA;AACA,GAAIA,OAAO,GAAK,KAAK,CACrB,MACJ,CAEAlF,UAAU,CAACsC,CAAC,CAAC,CAACvD,MAAM,CAAC,CAAG4F,eAAe,CACvC3E,UAAU,CAACsC,CAAC,CAAC,CAACtD,KAAK,CAAC,CAAG4F,cAAc,CACrC5E,UAAU,CAACsC,CAAC,CAAC,CAACrD,IAAI,CAAC,CAAG4F,aAAa,CACvC,CACJ,CAEA,QAAS,CAAAQ,IAAIA,CAAC5C,GAAG,CAAE6C,EAAE,CAAEC,EAAE,CAAE,CACvB,GAAI,CAAAC,IAAI,CAAG/C,GAAG,CAAC6C,EAAE,CAAC,CAClB7C,GAAG,CAAC6C,EAAE,CAAC,CAAG7C,GAAG,CAAC8C,EAAE,CAAC,CACjB9C,GAAG,CAAC8C,EAAE,CAAC,CAAGC,IAAI,CAClB,CAEA,QAAS,CAAAf,UAAUA,CAACgB,KAAK,CAAEC,CAAC,CAC5B,CACI;AACA;AACA;AACA;AACA,GAAI,CAAApD,CAAC,CAAEqD,CAAC,CACR,GAAI,CAAAT,OAAO,CACX,IAAK5C,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGoD,CAAC,CAAG,CAAC,CAAEpD,CAAC,EAAE,CAC1B,CACI4C,OAAO,CAAG,KAAK,CACf,IAAKS,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGD,CAAC,CAAGpD,CAAC,CAAG,CAAC,CAAEqD,CAAC,EAAE,CAC9B,CACI,GAAIF,KAAK,CAACE,CAAC,CAAC,CAAC9G,SAAS,CAAC,CAAG4G,KAAK,CAACE,CAAC,CAAG,CAAC,CAAC,CAAC9G,SAAS,CAAC,CACjD,CACI;AACAwG,IAAI,CAACI,KAAK,CAAEE,CAAC,CAAEA,CAAC,CAAC,CAAC,CAAC,CACnB;AACA;AACA;AACAT,OAAO,CAAG,IAAI,CAClB,CACJ,CACA;AACA;AACA,GAAIA,OAAO,GAAK,KAAK,CACrB,MACJ,CACJ,CAEA,QAAS,CAAAR,WAAWA,CAAA,CAAG,CACnB;AACA,GAAI1E,UAAU,CAACS,MAAM,CAAG,CAAC,CAAE,CACvB,GAAI,CAAAmF,GAAG,CAAG,CAAC,CACX;AACA,IAAK,GAAI,CAAAT,CAAC,GAAI,CAAAnF,UAAU,CAAE,CACtB;AACA;AACA,GAAIA,UAAU,CAACmF,CAAC,CAAC,CAACpG,MAAM,CAAC,CAAC8G,QAAQ,CAACC,QAAQ,CAACnG,MAAM,CAAC,CAAC,CAAE,CAElD,GAAI,CAAA6F,IAAI,CAAGxF,UAAU,CAACmF,CAAC,CAAC,CACxBnF,UAAU,CAACiF,MAAM,CAACE,CAAC,CAAE,CAAC,CAAC,CACvBnF,UAAU,CAACiF,MAAM,CAACW,GAAG,CAAE,CAAC,CAAEJ,IAAI,CAAC,CAC/BI,GAAG,EAAE,CACT,CACJ,CACJ,CACJ,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,CAAC,CAED,cAAe,CAAAtG,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}